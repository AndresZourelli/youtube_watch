{"ast":null,"code":"import _classCallCheck from \"/Users/fazzbeast/Desktop/website/youtube_watch/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fazzbeast/Desktop/website/youtube_watch/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/fazzbeast/Desktop/website/youtube_watch/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fazzbeast/Desktop/website/youtube_watch/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/fazzbeast/Desktop/website/youtube_watch/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/fazzbeast/Desktop/website/youtube_watch/client/src/components/home/home.js\";\n\n/* eslint-disable no-unused-expressions */\nimport React, { Component } from 'react';\nimport VideoQueue from '../../components/VideoQueue/VideoQueue';\nimport PlayerControls from '../../components/PlayerControls/PlayerControls';\nimport ReactPlayer from 'react-player';\nimport io from 'socket.io-client';\nvar socket = io.connect('http://localhost:8000');\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.addEvent = function (event) {\n      console.log(\"hi\");\n\n      _this.setState({\n        playing: event.playing,\n        seek: event.seek\n      });\n\n      console.log(_this.state.playing, event.playing);\n    };\n\n    _this.updateWindowDimensions = function () {\n      _this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n\n    _this.timeformat = function (seconds) {\n      var seconds = Math.floor(seconds);\n      var minutes = Math.floor(seconds / 60);\n      var sseconds = seconds % 60 < 10 ? '0' + seconds % 60 : seconds % 60;\n\n      _this.setState({\n        percentage: minutes + ':' + sseconds\n      });\n\n      return minutes + ':' + sseconds;\n    };\n\n    _this.seekChange = function (event) {\n      _this.setState({\n        seek: event.target.value\n      });\n    };\n\n    _this.onTogglePlay = function () {\n      _this.setState({\n        playing: !_this.state.playing\n      });\n    };\n\n    _this.onProgress = function (event) {\n      if (!_this.state.isseeking) {\n        var time = _this.timeformat(event.playedSeconds);\n\n        _this.setState({\n          percentage: time,\n          seek: event.playedSeconds\n        });\n      }\n    };\n\n    _this.onDuration = function (event) {\n      _this.setState({\n        duration: event\n      });\n    };\n\n    _this.onSeekSearch = function (event) {\n      _this.setState({\n        isseeking: true\n      });\n    };\n\n    _this.onSeekChange = function (event) {\n      _this.setState({\n        seek: event.target.value,\n        played: event.target.value,\n        clock: _this.timeformat(event.target.value)\n      });\n    };\n\n    _this.onSeekDone = function (event) {\n      _this.setState({\n        isseeking: false\n      });\n\n      _this.player.seekTo(event.target.value);\n    };\n\n    _this.ref = function (player) {\n      _this.player = player;\n    };\n\n    _this.onTextUpdate = function (event) {\n      _this.setState({\n        videoURL: event.target.value\n      });\n    };\n\n    _this.handleKeyPress = function (event) {\n      if (event.key == 'Enter') {\n        console.log('Submitted!');\n\n        _this.setState({\n          videoURL: event.target.value\n        });\n\n        _this.sendNamesToServer(event.target.value);\n      }\n    };\n\n    _this.nextVideo = function (event) {\n      console.log(\"event\");\n    };\n\n    _this.sendNamesToServer = function (link) {\n      var data = {\n        youtube: link\n      };\n      fetch(\"http://localhost:8000/upload\", {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          youtube: link\n        })\n      }).then(function (res) {\n        console.log(res);\n        console.log(\"Uploaded!\");\n      });\n    };\n\n    _this.state = {\n      bar: 0,\n      width: 0,\n      height: 0,\n      time: 0,\n      percentage: 0,\n      //being used as formated clock\n      seek: 0,\n      currentTime: 0,\n      duration: 0,\n      playing: false,\n      isseeking: 0,\n      played: 0,\n      clock: 0,\n      videoURL: \"\",\n      videoNames: [\"https://www.youtube.com/watch?v=DvnSRj8xQBI\", 'https://www.youtube.com/watch?v=0uV6GE3bEIQ', 'https://www.youtube.com/watch?v=06xqSpkaQks&t=1114s', 'https://www.youtube.com/watch?v=_yxs4IS9HXU']\n    };\n    socket.on('connection', function () {\n      console.log('connected');\n      socket.on('recieve', function (payload) {\n        console.log(\"payload delivered\", payload);\n\n        _this.addEvent(payload);\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateWindowDimensions();\n      window.addEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (prevState.playing !== this.state.playing) {\n        socket.on('connection', function () {\n          socket.emit('pause/play', {\n            playing: _this2.state.playing,\n            seek: _this2.state.seek\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var opts = {\n        height: this.state.width * 9 / 16,\n        //set the video to a 16:9 ratio based on window size\n        width: this.state.width\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"React Player\"), React.createElement(\"input\", {\n        type: \"text\",\n        onKeyPress: this.handleKeyPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(ReactPlayer, {\n        ref: this.ref,\n        url: \"https://www.youtube.com/watch?v=UOxkGD8qRB4\",\n        width: opts.width,\n        height: opts.height,\n        playing: this.state.playing,\n        onProgress: this.onProgress,\n        onDuration: this.onDuration,\n        onSeek: (function (e) {\n          return console.log('onSeek', e);\n        }, 50),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.state.videoURL), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, this.state.isseeking ? this.state.clock : this.state.percentage), React.createElement(PlayerControls, {\n        change: this.onSeekChange,\n        duration: this.state.duration,\n        seek: this.state.seek,\n        _onMouseDown: this.onSeekSearch,\n        _onMouseUp: this.onSeekDone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.onTogglePlay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Pause/Play\"), React.createElement(VideoQueue, {\n        changeVideo: this.nextVideo,\n        videoNames: this.state.videoNames,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };","map":{"version":3,"sources":["/Users/fazzbeast/Desktop/website/youtube_watch/client/src/components/home/home.js"],"names":["React","Component","VideoQueue","PlayerControls","ReactPlayer","io","socket","connect","Home","props","addEvent","event","console","log","setState","playing","seek","state","updateWindowDimensions","width","window","innerWidth","height","innerHeight","timeformat","seconds","Math","floor","minutes","sseconds","percentage","seekChange","target","value","onTogglePlay","onProgress","isseeking","time","playedSeconds","onDuration","duration","onSeekSearch","onSeekChange","played","clock","onSeekDone","player","seekTo","ref","onTextUpdate","videoURL","handleKeyPress","key","sendNamesToServer","nextVideo","link","data","youtube","fetch","method","headers","body","JSON","stringify","then","res","bar","currentTime","videoNames","on","payload","addEventListener","removeEventListener","prevProps","prevState","emit","opts","e"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport React, { Component } from 'react';\nimport VideoQueue from '../../components/VideoQueue/VideoQueue';\nimport PlayerControls from '../../components/PlayerControls/PlayerControls';\nimport ReactPlayer from 'react-player';\nimport io from 'socket.io-client';\n\nconst socket = io.connect('http://localhost:8000');\nexport default class Home extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = { \n\t\t\tbar:0, \n\t\t\twidth: 0, \n\t\t\theight: 0, \n\t\t\ttime: 0, \n\t\t\tpercentage: 0 , //being used as formated clock\n\t\t\tseek: 0, \n\t\t\tcurrentTime:0, \n\t\t\tduration:0, \n\t\t\tplaying: false,\n\t\t\tisseeking: 0,\n\t\t\tplayed: 0,\n\t\t\tclock: 0,\n\t\t\tvideoURL: \"\",\n\t\t\tvideoNames:[\"https://www.youtube.com/watch?v=DvnSRj8xQBI\",\n\t\t\t'https://www.youtube.com/watch?v=0uV6GE3bEIQ',\n\t\t\t'https://www.youtube.com/watch?v=06xqSpkaQks&t=1114s',\n\t\t\t'https://www.youtube.com/watch?v=_yxs4IS9HXU']\n\t\t\t};\n\t\t\tsocket.on('connection', ()=>{\n\t\t\t\tconsole.log('connected')\n\t\t\t\t\n\t\t\t\tsocket.on('recieve', (payload) => {\n\t\t\t\t\tconsole.log(\"payload delivered\",payload);\n\t\t\t\t\tthis.addEvent(payload);\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t});\n\n\t\t}\n\n\taddEvent = (event) => {\n\t\tconsole.log(\"hi\")\n\t\tthis.setState({playing: event.playing, seek:event.seek})\n\t\tconsole.log(this.state.playing, event.playing)\n\t}\n\n\tcomponentDidMount(){\n\t\t\n\t\tthis.updateWindowDimensions();\n\t\twindow.addEventListener('resize', this.updateWindowDimensions);\n\t\t}\n\n\tcomponentWillUnmount(){\n\t\twindow.removeEventListener('resize',this.updateWindowDimensions);\n\t\t}\n\n\tupdateWindowDimensions = () => {\n\t\tthis.setState({width: window.innerWidth, height: window.innerHeight});\n\t\t}\n\t\n\tcomponentDidUpdate(prevProps, prevState){\n\t\tif(prevState.playing !== this.state.playing){\n\t\t\tsocket.on('connection', ()=>{\n\t\t\t\tsocket.emit('pause/play', {playing: this.state.playing, seek:this.state.seek});\n\t\t\t})\n\t\t\t\n\t\t}\n\t}\n\n\ttimeformat = (seconds) => {\n\t\tvar seconds = Math.floor(seconds);\n\t\tconst minutes = Math.floor(seconds/60) ;\n\t\tconst sseconds = seconds%60 < 10 ? '0'+seconds%60 : seconds%60 ;\n\t\tthis.setState({percentage: minutes + ':' +sseconds});\n\t\treturn minutes + ':' +sseconds\n\t}\n\n\tseekChange = (event) => {\n\t\tthis.setState({seek: event.target.value});\n\t}\n\t\n\tonTogglePlay = () => {\n\t\tthis.setState({playing: !this.state.playing});\n\t\t\n\t}\n\tonProgress = (event) => {\n\t\t\n\t\tif (!this.state.isseeking){\n\t\t\tconst time = this.timeformat(event.playedSeconds);\n\t\t\tthis.setState({percentage: time, seek: event.playedSeconds})\n\t\t}\n\t}\n\n\tonDuration = (event) => {\n\t\tthis.setState({duration: event})\n\t}\n\t\n\tonSeekSearch = (event) => {\n\t\tthis.setState({isseeking: true})\n\t}\n\tonSeekChange = (event) => {\n\t\tthis.setState({seek: event.target.value, played:event.target.value, clock:this.timeformat(event.target.value) })\n\t}\n\n\tonSeekDone = (event) => {\n\t\tthis.setState({isseeking: false})\n\t\tthis.player.seekTo(event.target.value)\n\t}\n\n\tref = player => {\n\t\tthis.player = player\n\t}\n\t\n\tonTextUpdate = (event) => {\n\t\tthis.setState({videoURL: event.target.value})\n\t}\n\t\n\thandleKeyPress = (event) => {\n\t\t\n\t\tif(event.key == 'Enter'){\n\t\t\tconsole.log('Submitted!');\n\t\t\tthis.setState({videoURL: event.target.value});\n\t\t\tthis.sendNamesToServer(event.target.value);\n\t\t}\n\t}\n\n\tnextVideo = (event) => {\n\t\tconsole.log(\"event\")\n\n\t}\n\n\tsendNamesToServer = (link) => {\n\t\tvar data = { youtube : link };\n\t\tfetch(\"http://localhost:8000/upload\", {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tyoutube: link\n\n\t\t})}).then(function(res){\n\t\t\tconsole.log(res)\n\t\t\tconsole.log(\"Uploaded!\")\n\t\t})\n\t}\n\trender() {\n\t\tconst opts = {\n\t      height: this.state.width * 9/16, //set the video to a 16:9 ratio based on window size\n\t      width: this.state.width,\n\t    };\n\n\t    return (\n\t      <div>\n\t      <h3>React Player</h3>\n\t\t  <input type=\"text\"  onKeyPress={this.handleKeyPress}/>\n\t      <ReactPlayer \n\t      \tref = {this.ref}\n\t      \turl = 'https://www.youtube.com/watch?v=UOxkGD8qRB4' \n\t      \twidth = {opts.width} \n\t      \theight={opts.height}\n\t      \tplaying = {this.state.playing}\n\t      \tonProgress = {this.onProgress}\n\t      \tonDuration = {this.onDuration}\n\t      \tonSeek = { e => console.log('onSeek',e),50}\n\n\t      \t/>\n\n\t      <h1>{this.state.videoURL}</h1>\n\t      <h1>{this.state.isseeking ? this.state.clock : this.state.percentage}</h1>\n\t      <PlayerControls change = {this.onSeekChange} duration={this.state.duration} seek={ this.state.seek } _onMouseDown = {this.onSeekSearch} _onMouseUp = {this.onSeekDone} /> \n\t     <button onClick = {this.onTogglePlay} >Pause/Play</button>\n\t     <VideoQueue changeVideo = {this.nextVideo} videoNames = {this.state.videoNames} />\n\t      </div>\n\t    );\n\t  }\n\n}\n"]},"metadata":{},"sourceType":"module"}